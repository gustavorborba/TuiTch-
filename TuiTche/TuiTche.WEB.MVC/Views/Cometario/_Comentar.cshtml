@model ComentarioModel

<link href="~/Content/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="~/Content/Site.css" rel="stylesheet" type="text/css" />


<input class="form-control row esconder" style="margin-left:435px;" id="comentario" typ></input>

<input id="btnPublicar" class="btn-default btn" type="button" value="Comentar" />

<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script>
 
    @Model.Texto = document.querySelector('textarea').valueOf;

    $("#btnPublicar").click(function () {
        $('#btnPublicar').hidden = true;
        $('#comentario').addClass('esconder')
    })

    $("#btnPublicar").keypress(function () {
        if(characterCode == 13)
        {
            mostrarBotao();
            var dataObject = JSON.stringify(@Model);

            $.ajax({
                url: '/Comentario/Comentar',
                type: 'POST',
                contentType: 'application/json',
                data: dataObject
            });
        } else if(characterCode == 27) {
            $('#comentario').val("");
            mostrarBotao();
        }
    });

    function mostrarBotao() {
        $('#btnPublicar').hidden = false;
        $('#comentario').removeClass('esconder')
    }

</script>