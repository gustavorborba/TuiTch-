@model ComentarioModel

<link href="~/Content/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="~/Content/Site.css" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script>

@using (Ajax.BeginForm("SalvarComentario", new {}, new AjaxOptions()
{
    InsertionMode = InsertionMode.InsertBefore,
    UpdateTargetId = "form" + @Model.IdPublicacao,
    HttpMethod = "post",
    OnSuccess = "$('#texto').val('');"
}, new { id = "form" + @Model.IdPublicacao }))
{
    @Html.AntiForgeryToken()
    <input id="texto" name="texto" />
    <input type="submit" value="Comentar" id="Enviar" />
    <input type="hidden" id="IdPublicacao" name="IdPublicacao" value="@Model.IdPublicacao" />
    <input type="hidden" id="IdUsuario" name="IdUsuario" value="@Model.IdUsuario" />
}
